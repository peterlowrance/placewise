<div *ngIf="item">
<h2>{{item.name}}</h2>

<mat-grid-list cols="3" rowHeight="2:1">
    <!-- first is image -->
    <mat-grid-tile [colspan]="2" [rowspan]="3">
        <img class="responsive-item-image" src={{item.imageUrl}} layout-fit>
    </mat-grid-tile>
    <!-- report button -->
    <mat-grid-tile>
        <button mat-raised-button color="primary" (click)="createReport()"> Report
            <mat-icon>report_problem</mat-icon>
        </button>
    </mat-grid-tile>

    <!-- spacers -->
    <mat-grid-tile>

    </mat-grid-tile>
    <mat-grid-tile>

    </mat-grid-tile>
</mat-grid-list>

<!-- more info expansion panel -->
<mat-accordion>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                More Information
            </mat-panel-title>
            <mat-panel-description>
            </mat-panel-description>
        </mat-expansion-panel-header>

        <!-- description -->
        <mat-card>
            <mat-card-header>
                <mat-card-title>Description</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <p>{{item.description}}</p>
            </mat-card-content>
            <mat-card-actions>
                <!-- edit field -->
            </mat-card-actions>
        </mat-card>

        <!-- category -->
        <mat-card>
            <mat-card-header>
                <mat-card-title>Category</mat-card-title>
                <mat-card-subtitle>{{item.category.name}}</mat-card-subtitle>
                <div mat-card-avatar> <img src={{item.category.imageUrl}}> </div>
            </mat-card-header>
        </mat-card>

        <!-- tags -->
        <h3>Tags</h3>
        <mat-chip-list>
            <!-- TODO: add admin control for removing/adding -->
            <mat-chip *ngFor="let tag of item.tags">{{tag}}</mat-chip>
        </mat-chip-list>
    </mat-expansion-panel>
</mat-accordion>

<!-- steps to find -->
<!-- adapted from https://material.angular.io/components/tree/examples -->
<h2>Steps to Find:</h2>
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
    <!-- This is the tree node template for leaf nodes -->
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding matTreeNodePaddingIndent="5">
        <li class="mat-tree-node  mat-elevation-z4">
            <div>
                <button mat-icon-button disabled>{{node.name}}</button>
                <br>
                <img src={{node.imageUrl}}>
            </div>
        </li>
    </mat-tree-node>
    <!-- This is the tree node template for expandable nodes -->
    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePaddingIndent="5">
        <li class=" mat-elevation-z4">
            <div class="mat-tree-node">
                <div>
                    <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'toggle ' + node.name">
                        <mat-icon class="mat-icon-rtl-mirror">
                            {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                        </mat-icon>
                    </button>
                    {{node.name}}
                    <br>
                    <img src={{node.imageUrl}}>
                </div>
            </div>
            <ul [ngClass]="{invisible: !treeControl.isExpanded(node)}">
                <ng-container matTreeNodeOutlet></ng-container>
            </ul>
        </li>
    </mat-nested-tree-node>
</mat-tree>
</div>
